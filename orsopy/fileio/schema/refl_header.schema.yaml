$id: https://raw.githubusercontent.com/reflectivity/orsopy/v0.1/orsopy/fileio/schema/refl_header.schema.json
$schema: http://json-schema.org/draft-07/schema#
definitions:
  Column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: A description of the column
      name:
        anyOf:
        - type: string
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - name
    title: Column
    type: object
  DataSource:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      experiment:
        anyOf:
        - $ref: '#/definitions/Experiment'
      measurement:
        anyOf:
        - $ref: '#/definitions/Measurement'
      owner:
        anyOf:
        - $ref: '#/definitions/Person'
      sample:
        anyOf:
        - $ref: '#/definitions/Sample'
    required:
    - owner
    - experiment
    - sample
    - measurement
    title: DataSource
    type: object
  ErrorColumn:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      distribution:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - gaussian
        - triangular
        - uniform
        - lorentzian
        - null
      error_of:
        anyOf:
        - type: string
        - type: 'null'
      error_type:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - uncertainty
        - resolution
        - null
      value_is:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - sigma
        - FWHM
        - null
    required:
    - error_of
    title: ErrorColumn
    type: object
  Experiment:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      doi:
        anyOf:
        - type: string
        - type: 'null'
      facility:
        anyOf:
        - type: string
        - type: 'null'
      instrument:
        anyOf:
        - type: string
        - type: 'null'
      probe:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - neutron
        - x-ray
        - null
      proposalID:
        anyOf:
        - type: string
        - type: 'null'
      start_date:
        anyOf:
        - type: string
        - type: 'null'
        format: date-time
      title:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - title
    - instrument
    - start_date
    - probe
    title: Experiment
    type: object
  File:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      file:
        anyOf:
        - type: string
        - type: 'null'
      timestamp:
        anyOf:
        - type: string
        - type: 'null'
        description: Last modified timestamp. If it's not specified, then an attempt
          will be made to check on the file itself
        format: date-time
    required:
    - file
    title: File
    type: object
  InstrumentSettings:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      configuration:
        anyOf:
        - type: string
        - type: 'null'
        description: half / full polarized | liquid_surface | etc
      incident_angle:
        anyOf:
        - $ref: '#/definitions/Value'
        - $ref: '#/definitions/ValueRange'
        - type: 'null'
      polarization:
        anyOf:
        - $ref: '#/definitions/Polarization'
        - $ref: '#/definitions/ValueVector'
        - type: 'null'
        description: Polarization described as unpolarized/ p / m / pp / pm / mp /
          mm / vector
      wavelength:
        anyOf:
        - $ref: '#/definitions/Value'
        - $ref: '#/definitions/ValueRange'
        - type: 'null'
    required:
    - incident_angle
    - wavelength
    title: InstrumentSettings
    type: object
  Measurement:
    properties:
      additional_files:
        anyOf:
        - type: array
        - type: 'null'
        items:
          anyOf:
          - $ref: '#/definitions/File'
          - type: string
      comment:
        anyOf:
        - type: string
        - type: 'null'
      data_files:
        anyOf:
        - type: array
        - type: 'null'
        items:
          anyOf:
          - $ref: '#/definitions/File'
          - type: string
      instrument_settings:
        anyOf:
        - $ref: '#/definitions/InstrumentSettings'
      scheme:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - angle- and energy-dispersive
        - angle-dispersive
        - energy-dispersive
        - null
    required:
    - instrument_settings
    - data_files
    title: Measurement
    type: object
  Person:
    properties:
      affiliation:
        anyOf:
        - type: string
        - type: 'null'
      comment:
        anyOf:
        - type: string
        - type: 'null'
      contact:
        anyOf:
        - type: string
        - type: 'null'
        description: Contact (email) address
      name:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - name
    - affiliation
    title: Person
    type: object
  Polarization:
    description: 'The first symbol indicates the magnetisation direction of the incident

      beam. An optional second symbol indicates the direction of the scattered

      beam, if a spin analyser is present.'
    enum:
    - unpolarized
    - po
    - mo
    - op
    - om
    - mm
    - mp
    - pm
    - pp
    title: Polarization
    type: string
  Qz_column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: dimension of column
      name:
        enum:
        - Qz
      unit:
        enum:
        - 1/angstrom
        - 1/nm
        - null
    required:
    - name
    title: Qz
    type: object
  R_column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: dimension of column
      name:
        enum:
        - R
      unit:
        enum:
        - 1/angstrom
        - 1/nm
        - null
    required:
    - name
    title: R
    type: object
  Reduction:
    properties:
      binary:
        anyOf:
        - type: string
        - type: 'null'
        description: Path to full information file
      call:
        anyOf:
        - type: string
        - type: 'null'
        description: The command line call used
      comment:
        anyOf:
        - type: string
        - type: 'null'
      computer:
        anyOf:
        - type: string
        - type: 'null'
        description: Computer used for reduction
      corrections:
        anyOf:
        - type: array
        - type: 'null'
        items:
          type: string
      creator:
        anyOf:
        - $ref: '#/definitions/Person'
      script:
        anyOf:
        - type: string
        - type: 'null'
        description: Path to reduction script or notebook
      software:
        anyOf:
        - $ref: '#/definitions/Software'
      timestamp:
        anyOf:
        - type: string
        - type: 'null'
        description: Timestamp string, formatted as ISO 8601 datetime
        format: date-time
    required:
    - software
    title: Reduction
    type: object
  Sample:
    properties:
      category:
        anyOf:
        - type: string
        - type: 'null'
      comment:
        anyOf:
        - type: string
        - type: 'null'
      composition:
        anyOf:
        - type: string
        - type: 'null'
      description:
        anyOf:
        - type: string
        - type: 'null'
      environment:
        anyOf:
        - type: array
        - type: 'null'
        items:
          type: string
      name:
        anyOf:
        - type: string
        - type: 'null'
      sample_parameters:
        anyOf:
        - type: object
        - type: 'null'
        description: Using keys for parameters and Value* objects for values.
    required:
    - name
    title: Sample
    type: object
  Software:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      name:
        anyOf:
        - type: string
        - type: 'null'
      platform:
        anyOf:
        - type: string
        - type: 'null'
      version:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - name
    title: Software
    type: object
  Value:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      magnitude:
        anyOf:
        - type: number
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - magnitude
    title: Value
    type: object
  ValueRange:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      max:
        anyOf:
        - type: number
        - type: 'null'
      min:
        anyOf:
        - type: number
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - min
    - max
    title: ValueRange
    type: object
  ValueVector:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
      x:
        anyOf:
        - type: number
        - type: 'null'
      y:
        anyOf:
        - type: number
        - type: 'null'
      z:
        anyOf:
        - type: number
        - type: 'null'
    required:
    - x
    - y
    - z
    title: ValueVector
    type: object
  sQz_column:
    properties:
      error_of:
        enum:
        - Qz
      error_type:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - uncertainty
        - resolution
        - 'null'
    required:
    - error_of
    title: sQz
    type: object
  sR_column:
    properties:
      error_of:
        enum:
        - R
      error_type:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - uncertainty
        - resolution
        - 'null'
    required:
    - error_of
    title: sR
    type: object
properties:
  columns:
    additionalItems:
      $ref: '#/definitions/Column'
    anyOf:
    - type: array
    - type: 'null'
    items:
    - $ref: '#/definitions/Qz_column'
    - $ref: '#/definitions/R_column'
    - $ref: '#/definitions/sR_column'
    - $ref: '#/definitions/sQz_column'
  comment:
    anyOf:
    - type: string
    - type: 'null'
  data_set:
    anyOf:
    - type: integer
    - type: string
    - type: 'null'
  data_source:
    anyOf:
    - $ref: '#/definitions/DataSource'
  reduction:
    anyOf:
    - $ref: '#/definitions/Reduction'
required:
- data_source
- reduction
- columns
title: Orso
type: object
