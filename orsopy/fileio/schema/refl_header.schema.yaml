$id: https://raw.githubusercontent.com/reflectivity/orsopy/v0.0.1/orsopy/fileio/schema/refl_header.schema.json
$schema: http://json-schema.org/draft-07/schema#
definitions:
  DataSource:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      experiment:
        anyOf:
        - $ref: '#/definitions/Experiment'
      measurement:
        anyOf:
        - $ref: '#/definitions/Measurement'
      owner:
        anyOf:
        - $ref: '#/definitions/Person'
      sample:
        anyOf:
        - $ref: '#/definitions/Sample'
    required:
    - owner
    - experiment
    - sample
    - measurement
    title: DataSource
    type: object
  Experiment:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      date:
        anyOf:
        - type: string
        - type: 'null'
        format: date-time
      doi:
        anyOf:
        - type: string
        - type: 'null'
      facility:
        anyOf:
        - type: string
        - type: 'null'
      instrument:
        anyOf:
        - type: string
        - type: 'null'
      probe:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - neutrons
        - x-rays
        - null
      proposalID:
        anyOf:
        - type: string
        - type: 'null'
      title:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - title
    - instrument
    - date
    - probe
    title: Experiment
    type: object
  File:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      file:
        anyOf:
        - type: string
        - type: 'null'
      timestamp:
        anyOf:
        - type: string
        - type: 'null'
        description: Last modified timestamp. If it's not specified, then an attempt
          will be made to check on the file itself
        format: date-time
    required:
    - file
    title: File
    type: object
  InstrumentSettings:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      configuration:
        anyOf:
        - type: string
        - type: 'null'
        description: half / full polarized | liquid_surface | etc
      incident_angle:
        anyOf:
        - $ref: '#/definitions/Value'
        - $ref: '#/definitions/ValueRange'
        - type: 'null'
      polarization:
        anyOf:
        - enum:
          - unpolarized
          - p
          - m
          - mm
          - mp
          - pm
          - pp
          type: string
        - $ref: '#/definitions/ValueVector'
        - type: 'null'
        default: unpolarized
        description: Polarization described as unpolarized/ p / m / pp / pm / mp /
          mm / vector
      wavelength:
        anyOf:
        - $ref: '#/definitions/Value'
        - $ref: '#/definitions/ValueRange'
        - type: 'null'
    required:
    - incident_angle
    - wavelength
    title: InstrumentSettings
    type: object
  Measurement:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      data_files:
        anyOf:
        - type: array
        - type: 'null'
        items:
          anyOf:
          - $ref: '#/definitions/File'
          - type: string
      instrument_settings:
        anyOf:
        - $ref: '#/definitions/InstrumentSettings'
      references:
        anyOf:
        - type: array
        - type: 'null'
        items:
          anyOf:
          - $ref: '#/definitions/File'
          - type: string
      scheme:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - angle- and energy-dispersive
        - angle-dispersive
        - energy-dispersive
        - null
    required:
    - instrument_settings
    - data_files
    title: Measurement
    type: object
  Person:
    properties:
      affiliation:
        anyOf:
        - type: string
        - items:
            type: string
          type: array
        - type: 'null'
      comment:
        anyOf:
        - type: string
        - type: 'null'
      contact:
        anyOf:
        - type: string
        - type: 'null'
        description: Contact (email) address
      name:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - name
    - affiliation
    title: Person
    type: object
  R_column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: A description of the column
      name:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - R
        - null
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - name
    title: R_column
    type: object
  Reduction:
    properties:
      binary:
        anyOf:
        - type: string
        - type: 'null'
        description: Path to full information file
      call:
        anyOf:
        - type: string
        - type: 'null'
        description: The command line call used
      comment:
        anyOf:
        - type: string
        - type: 'null'
      computer:
        anyOf:
        - type: string
        - type: 'null'
        description: Computer used for reduction
      corrections:
        anyOf:
        - type: array
        - type: 'null'
        items:
          type: string
      creator:
        anyOf:
        - $ref: '#/definitions/Person'
      script:
        anyOf:
        - type: string
        - type: 'null'
        description: Path to reduction script or notebook
      software:
        anyOf:
        - $ref: '#/definitions/Software'
        - type: string
        - type: 'null'
      timestamp:
        anyOf:
        - type: string
        - type: 'null'
        description: Timestamp string, formatted as ISO 8601 datetime
        format: date-time
    required:
    - software
    title: Reduction
    type: object
  Sample:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      composition:
        anyOf:
        - type: string
        - type: 'null'
      description:
        anyOf:
        - type: string
        - items:
            type: string
          type: array
        - type: 'null'
      environment:
        anyOf:
        - type: string
        - items:
            type: string
          type: array
        - type: 'null'
      name:
        anyOf:
        - type: string
        - type: 'null'
      sample_parameters:
        anyOf:
        - type: object
        - type: 'null'
        description: Using keys for parameters and Value* objects for values.
      type:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - name
    title: Sample
    type: object
  Software:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      name:
        anyOf:
        - type: string
        - type: 'null'
      platform:
        anyOf:
        - type: string
        - type: 'null'
      version:
        anyOf:
        - type: string
        - type: 'null'
    required:
    - name
    title: Software
    type: object
  Value:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      magnitude:
        anyOf:
        - type: number
        - items:
            type: number
          type: array
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - magnitude
    title: Value
    type: object
  ValueRange:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      max:
        anyOf:
        - type: number
        - items:
            type: number
          type: array
        - type: 'null'
      min:
        anyOf:
        - type: number
        - items:
            type: number
          type: array
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - min
    - max
    title: ValueRange
    type: object
  ValueVector:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
      x:
        anyOf:
        - type: number
        - items:
            type: number
          type: array
        - type: 'null'
      y:
        anyOf:
        - type: number
        - items:
            type: number
          type: array
        - type: 'null'
      z:
        anyOf:
        - type: number
        - items:
            type: number
          type: array
        - type: 'null'
    required:
    - x
    - y
    - z
    title: ValueVector
    type: object
  qz_column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: A description of the column
      name:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - Qz
        - null
      unit:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - 1/angstrom
        - 1/nm
        - null
    required:
    - name
    title: qz_column
    type: object
  sQz_column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: A description of the column
      name:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - sQz
        - null
      unit:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - 1/angstrom
        - 1/nm
        - null
    required:
    - name
    title: sQz_column
    type: object
  sR_column:
    properties:
      comment:
        anyOf:
        - type: string
        - type: 'null'
      dimension:
        anyOf:
        - type: string
        - type: 'null'
        dimension: A description of the column
      name:
        anyOf:
        - type: string
        - type: 'null'
        enum:
        - sR
        - null
      unit:
        anyOf:
        - type: string
        - type: 'null'
        description: SI unit string
    required:
    - name
    title: sR_column
    type: object
properties:
  columns:
    anyOf:
    - items:
      - $ref: '#/definitions/qz_column'
      - $ref: '#/definitions/R_column'
      type: array
    - items:
      - $ref: '#/definitions/qz_column'
      - $ref: '#/definitions/R_column'
      - $ref: '#/definitions/sR_column'
      type: array
    - additionalItems:
        $ref: '#/definitions/Column'
      items:
      - $ref: '#/definitions/qz_column'
      - $ref: '#/definitions/R_column'
      - $ref: '#/definitions/sR_column'
      - $ref: '#/definitions/sQz_column'
      type: array
  comment:
    anyOf:
    - type: string
    - type: 'null'
  data_set:
    anyOf:
    - type: integer
    - type: string
    - type: 'null'
  data_source:
    anyOf:
    - $ref: '#/definitions/DataSource'
  reduction:
    anyOf:
    - $ref: '#/definitions/Reduction'
required:
- data_source
- reduction
- columns
title: Orso
type: object
